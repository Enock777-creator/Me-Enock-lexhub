<!DOCTYPE html>
<html lang="en" data-theme="">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>M. Enock’s LexHub</title>
  <link rel="icon" type="image/png" href="assets/favicon.png" />
  <link rel="stylesheet" href="style.css" />
  <!-- Font Awesome (example) -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
<!-- Or Material Symbols (example) -->
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet
</head>
<body id="home">

<!-- Sidebar Navigation -->
<div id="sidebar">
  <button id="closeSidebar" aria-label="Close sidebar">✕</button>
  <a href="/">🏛️ Home</a>
  <a href="#articles">🔰Articles</a>
  <a href="#categories">📁Categories</a>
  <div id="category-list" class="category-chips"></div>
  <a href="#llb1">📚 LLB1(2024-2025) Materials</a>
</div>
<button id="sidebarToggle" aria-label="Open sidebar">☰</button>

<!-- Header -->
<header>
<button id="darkModeToggle" type="button" title="Toggle Dark Mode">
  <span class="icon">🌒</span>
  <span class="label">Dark Mode</span>
</button>

  <div class="header-stack">
    <img src="assets/logo-circle.png" alt="LexHub Logo" class="logo" />
    <h1 class="logo-text">LexHub | Advancing Legal Scholarship</h1>

    <!-- Search Bar -->
    <form id="site-search-form" autocomplete="off">
      <input type="text" id="site-search" placeholder="Search articles or study materials..." />
      <button type="submit"><span aria-hidden="true">🔍</span><span class="sr-only">Search</span></button>
    </form>
    <div id="no-results" style="display:none;text-align:center;margin:2rem 0;font-weight:bold;color:#c00;">
      No results found.
    </div>

    <div class="header-buttons">
      <a href="#contact" class="btn">Get in Touch</a>
      <a href="#articles" class="btn outline">Read Articles</a>
    </div>
    <div class="photo-container">
      <img src="images/my-photo.png" alt="M. Enock’s Photo" class="header-photo-sq"/>
    </div>
  </div>
</header>

<!-- Main Content -->
<main>
  <section id="articles">
    <h2>Legal Articles</h2>
<div id="articles-container">Loading...</div>
</section>

<script>
  fetch('articles.json')
    .then(res => res.json())
    .then(data => {
      const container = document.getElementById('articles-container');
      container.innerHTML = data.map(article => `
        <a href="article.html?id=${article.id}" class="article-box">
          <h3>${article.title}</h3>
          <p>${article.desc}</p>
        </a>
      `).join('');
    })
    .catch(() => {
      document.getElementById('articles-container').textContent = 'Failed to load articles list.';
    });
</script>
   </section>

  <!-- KEEP your other sections (LLB1, LLB2, Contact, etc.) exactly as they are -->
   <section id="llb1" class="article-md">
      <h2>📚 LLB 1 Study Materials</h2>
      <ul class="pdf-list">
        <li><a href="pdfs/comparative legal traditions.pdf" target="_blank">⚖️ Comparative Legal Traditions</a></li>
        <li><a href="pdfs/Constitutional Law- 2025.pdf" target="_blank">🧾 Constitutional Law – 2025</a></li>
        <li><a href="pdfs/Corrected. TEAM3 FL Assignment.pdf" target="_blank">📝 Family Law – Team Assignment</a></li>
        <li><a href="pdfs/FAMILY LAW component .pptx new slides with updtes 2024 2025.pptxfsfsfs.pdf" target="_blank">👨‍👩‍👧 Family Law Slides 2024–2025</a></li>
        <li><a href="pdfs/INTRODUCTION TO PRIVATE LAW.pdf" target="_blank">📘 Introduction to Private Law</a></li>
        <li><a href="pdfs/INTRODUCTION TO PUBLIC LAW_075639.pdf" target="_blank">📑 Introduction to Public Law</a></li>
        <li><a href="pdfs/Law of Persons Notes 2024-2025.pdf" target="_blank">📚 Law of Persons Notes</a></li>
        <li><a href="pdfs/Legal Philosophy exam preparation 2024-2025.pdf" target="_blank">🧠 Legal Philosophy – Exam Prep</a></li>
        <li><a href="pdfs/MUTABAZICélestin...Stare decisis In Rwanda. ajol-file-journals_842_articles_281724_67211d1da1cce.pdf" target="_blank">📄 Stare Decisis in Rwanda – Research</a></li>
        <li><a href="pdfs/PRACTICAL ASSIGMENT FOR FAMILY LAW CRUCIAL.pdf" target="_blank">📑 Family Law – Practical Assignment</a></li>
        <li><a href="pdfs/T3 PPT Philosophy Presentation.pdf" target="_blank">🧭 Philosophy – T3 Presentation</a></li>
        <li><a href="pdfs/introduction to legal research.pdf" target="_blank">🔍 Legal Research – Intro</a></li>
        <li><a href="pdfs/general principles of criminal law.pdf" target="_blank">⚖️ Criminal Law – Slides 2025</a></li>
    <li><a href="pdfs/Dictionary_of_Legal_Terms (1).zip" target="_blank">📕 Dictionary of Legal Terms (1)</a></li>
    <li><a href="pdfs/kinyarwanda legal terminologies.pdf" target="_blank">📕 Kinyarwanda Legal Terminologies 2</a></li>
      </ul>
    </section>

     <section id="llb2" class="article-md">
      <h2>📚 LLB 2 Study Materials</h2>
      <ul class="pdf-list">
        <li>
          <a href="pdfs/OFJC Syllabus.pdf" target="_blank">
            ⚖️ OFJC Syllabus
          </a>
        </li>
        <li>
          <a href="pdfs/UR Specific Crimes Template 2022.pdf" target="_blank">
            ⚖️ UR Specific Crimes Template 2022
          </a>
        </li>
        <li>
          <a href="pdfs/Tort Law presentation 2022.pptx" target="_blank">
            ⚖️ Tort Law presentation 2022 (PPTX)
          </a>
        </li>
        <li>
          <a href="pdfs/Law of evidence - Syllabus (2019-2020).pdf" target="_blank">
            ⚖️ Law of Evidence - Syllabus (2019-2020)
          </a>
        </li>
        <li>
          <a href="pdfs/Psychology and Law 2023.pdf" target="_blank">
            ⚖️ Psychology and Law 2023
          </a>
        </li>
        <li>
          <a href="pdfs/Tort Law presentation 2022.pdf" target="_blank">
            ⚖️ Tort Law presentation 2022 (PDF)
          </a>
        </li>
        <li>
          <a href="pdfs/sociology of law- LLB II 2024 UPDATED.pdf" target="_blank">
            ⚖️ Sociology of Law - LLB II 2024 UPDATED
          </a>
        </li>
        <li>
          <a href="pdfs/SLIDES OF CRIMINOLOGY.pdf" target="_blank">
            ⚖️ Slides of Criminology
          </a>
        </li>
      </ul>
    </section>

    <!-- Contact Bar (edge-to-edge) -->
    <section id="contact">
      <h2>Get in touch</h2>
      <ul class="contact-list">
        <li>
          <a href="mailto:mugishaenock777@gmail.com">
            <img src="assets/email.png" alt="Email" class="contact-icon" />
            Email
          </a>
        </li>
        <li>
          <a href="https://wa.me/250791851177" target="_blank">
            <img src="assets/whatsapp.png" alt="WhatsApp" class="contact-icon" />
            WhatsApp
          </a>
        </li>
        <li>
          <a href="https://www.linkedin.com/in/mugisha-enock-916270300/" target="_blank">
            <img src="assets/linkedin.png" alt="LinkedIn" class="contact-icon" />
            LinkedIn
          </a>
        </li>
      </ul>
    </section>
  <!-- ... -->
</main>

<footer>
  <p>© Copyright M.Enock's LexHub 2025. All rights reserved.</p>
</footer>

<!-- Back to Top -->
<button id="topBtn" title="Back to top">↑</button>

<!-- Dark Mode & Back-to-Top Logic -->
<script>
(function () {
  const btn = document.getElementById('darkModeToggle');
  const root = document.documentElement;

  // Safe read (some private modes throw on localStorage)
  let savedTheme = null;
  try { savedTheme = localStorage.getItem('theme'); } catch (e) {}

  if (savedTheme === 'dark' || savedTheme === 'light') {
    root.setAttribute('data-theme', savedTheme);
  } else {
    // Fall back to system preference
    const prefersDark = window.matchMedia &&
      window.matchMedia('(prefers-color-scheme: dark)').matches;
    root.setAttribute('data-theme', prefersDark ? 'dark' : 'light');
  }

  function toggleTheme() {
    const current = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
    root.setAttribute('data-theme', current);
    try { localStorage.setItem('theme', current); } catch (e) {}
  }

  // Universal click/tap support
  btn && btn.addEventListener('click', toggleTheme, { passive: true });
})();
</script>

<script>
const categories = [
  { name: 'Criminal Law', icon: '⚖️' },
  { name: 'Family Law', icon: '👨‍👩‍👧' },
  { name: 'Legal Philosophy', icon: '🧠' },
  { name: 'Public Law', icon: '🏛️' },
  { name: 'Private Law', icon: '📜' }
];

const catContainer = document.getElementById('category-list');

catContainer.innerHTML = categories.map(cat =>
  `<div class="chip" data-filter="${cat.name.toLowerCase()}">
     ${cat.icon} ${cat.name}
   </div>`
).join('');

catContainer.addEventListener('click', e => {
  const chip = e.target.closest('.chip');
  if (!chip) return;
  const term = chip.dataset.filter;
  document.getElementById('site-search').value = term;
  runSearch(term, true); // reuse your existing function
});
</script>

<!-- Sidebar Logic -->
<script>
const sidebar = document.getElementById("sidebar");
const toggleBtn = document.getElementById("sidebarToggle");
const closeBtn = document.getElementById("closeSidebar");
toggleBtn.addEventListener("click", e => { sidebar.classList.add("active"); e.stopPropagation(); });
closeBtn.addEventListener("click", e => { sidebar.classList.remove("active"); e.stopPropagation(); });
document.addEventListener("click", e => {
  if (sidebar.classList.contains("active") && !sidebar.contains(e.target) && e.target !== toggleBtn) {
    sidebar.classList.remove("active");
  }
});
sidebar.addEventListener("click", e => e.stopPropagation());
</script>

<!-- Search Logic (with auto-categories) -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  // References
  const searchInput = document.getElementById('site-search');
  const searchForm = document.getElementById('site-search-form');
  const noResults = document.getElementById('no-results');
  const articleItems = document.querySelectorAll('.article-box, .article-md');
  const pdfItems = document.querySelectorAll('.pdf-list li');

  // 1) Search function (define first so others can reuse it)
  function runSearch(query, scrollToFirst = false) {
    const term = query.toLowerCase();
    let anyVisible = false;
    let firstVisible = null;

    function filterList(list) {
      list.forEach(item => {
        if (item.textContent.toLowerCase().includes(term)) {
          item.style.display = '';
          if (!firstVisible) firstVisible = item;
          anyVisible = true;
        } else {
          item.style.display = 'none';
        }
      });
    }

    filterList(articleItems);
    filterList(pdfItems);

    if (noResults) noResults.style.display = anyVisible ? 'none' : '';

    if (scrollToFirst && firstVisible) {
      firstVisible.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
  }

  // 2) Auto-generate category chips (this sits AFTER runSearch and BEFORE the listeners)
  const catContainer = document.getElementById('category-list');
  if (catContainer) {
    // Helper: pull a clean category name from a title like "Family Law – Slides" -> "Family Law"
    const cleanCategory = (text) => {
      const head = text.trim().split(/[-–—:|]/)[0].trim();
      // Optional: title-case normalization
      return head.replace(/\s+/g, ' ').replace(/\b\w/g, c => c.toUpperCase());
    };

    const seen = new Map(); // nameKey -> originalName (for nice casing)

    // Scan headings and pdf items for category-like prefixes
    document.querySelectorAll('.article-box h2, .article-md h2, .pdf-list li').forEach(node => {
      const raw = node.textContent || '';
      const name = cleanCategory(raw);
      const key = name.toLowerCase();
      if (name.length > 2 && !seen.has(key)) {
        seen.set(key, name);
      }
    });

    // Render chips
    const chips = [...seen.values()].sort((a, b) => a.localeCompare(b));
    catContainer.innerHTML = chips.map(name =>
      `<div class="chip" data-filter="${name.toLowerCase()}">${name}</div>`
    ).join('');

    // Chip click -> fill search + filter + scroll
    catContainer.addEventListener('click', e => {
      const chip = e.target.closest('.chip');
      if (!chip) return;
      const term = chip.dataset.filter || '';
      if (searchInput) searchInput.value = term;
      runSearch(term, true);
    });
  }

  // 3) Event listeners (placed last)
  if (searchForm) {
    // Enter key: filter + scroll to first match
    searchForm.addEventListener('submit', e => {
      e.preventDefault();
      runSearch(searchInput?.value || '', true);
    });
  }

  if (searchInput) {
    // Typing: filter only (no scroll)
    searchInput.addEventListener('input', () => {
      runSearch(searchInput.value, false);
    });
  }
});
</script>

</body>
</html>

















