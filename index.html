
<!DOCTYPE html>
<html lang="en" data-theme="">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>M. Enock’s LexHub</title>
  <meta name="msvalidate.01" content="60EDF69433360575DAE332B500071D00" />
  <link rel="icon" type="image/png" href="assets/favicon.png" />
  <link rel="stylesheet" href="style.css?v=3" />
  <!-- Font Awesome (example) -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
<!-- Or Material Symbols (example) -->
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet
</head>
<body id="home">

<!-- Sidebar Navigation -->
<div id="sidebar">
  <button id="closeSidebar" aria-label="Close sidebar">✕</button>
  <a href="/">🏛️ Home</a>
  <a href="#articles">🔰Articles</a>
  <a href="#categories">📁Categories</a>
  <a href="#llb1">📚 LLB1(2024-2025) Materials</a>
  <a href="#llb2">📚 LLB1(2024-2025) Materials</a>
</div>
<button id="sidebarToggle" aria-label="Open sidebar">☰</button>

<!-- Header -->
<header>
<button id="darkModeToggle" type="button" title="Toggle Dark Mode">
  <span class="icon">🌒</span>
  <span class="label">Dark Mode</span>
</button>

  <div class="header-stack">
    <img src="assets/logo-circle.png?v=2" alt="LexHub Logo" class="logo" />
    <h1 class="logo-text">LexHub | Advancing Legal Scholarship</h1>

    <!-- Search Bar -->
    <form id="site-search-form" autocomplete="off">
      <input type="text" id="site-search" placeholder="Search articles or study materials..." />
      <button type="submit"><span aria-hidden="true">🔍</span><span class="sr-only">Search</span></button>
    </form>
    <div id="no-results" style="display:none;text-align:center;margin:2rem 0;font-weight:bold;color:#c00;">
      No results found.
    </div>

    <div class="header-buttons">
      <a href="#contact" class="btn">Get in Touch</a>
      <a href="#articles" class="btn outline">Read Articles</a>
    </div>
    <div class="photo-container">
      <img src="images/my-photo.png" alt="M. Enock’s Photo" class="header-photo-sq"/>
    </div>
  </div>
</header>

<!-- Main Content -->
<main>
  <section id="articles">
    <h2>Legal Articles</h2>
<div id="articles-container">Loading...</div>
</section>

<script>
  fetch('articles.json')
    .then(res => res.json())
    .then(data => {
      const container = document.getElementById('articles-container');
      container.innerHTML = data.map(article => `
        <a href="article.html?id=${article.id}" class="article-box">
          <h3>${article.title}</h3>
          <p>${article.desc}</p>
        </a>
      `).join('');
    })
    .catch(() => {
      document.getElementById('articles-container').textContent = 'Failed to load articles list.';
    });
</script>
   </section>

  <!-- KEEP your other sections (LLB1, LLB2, Contact, etc.) exactly as they are -->
   <section id="llb1" class="article-md">
      <h2>📚 LLB 1 Study Materials</h2>
      <ul class="pdf-list">
        <li><a href="pdfs/comparative legal traditions.pdf" target="_blank">⚖️ Comparative Legal Traditions</a></li>
        <li><a href="pdfs/Constitutional Law- 2025.pdf" target="_blank">🧾 Constitutional Law – 2025</a></li>
        <li><a href="pdfs/Corrected. TEAM3 FL Assignment.pdf" target="_blank">📝 Family Law – Team Assignment</a></li>
        <li><a href="pdfs/FAMILY LAW component .pptx new slides with updtes 2024 2025.pptxfsfsfs.pdf" target="_blank">👨‍👩‍👧 Family Law Slides 2024–2025</a></li>
        <li><a href="pdfs/INTRODUCTION TO PRIVATE LAW.pdf" target="_blank">📘 Introduction to Private Law</a></li>
        <li><a href="pdfs/INTRODUCTION TO PUBLIC LAW_075639.pdf" target="_blank">📑 Introduction to Public Law</a></li>
        <li><a href="pdfs/Law of Persons Notes 2024-2025.pdf" target="_blank">📚 Law of Persons Notes</a></li>
        <li><a href="pdfs/Legal Philosophy exam preparation 2024-2025.pdf" target="_blank">🧠 Legal Philosophy – Exam Prep</a></li>
        <li><a href="pdfs/MUTABAZICélestin...Stare decisis In Rwanda. ajol-file-journals_842_articles_281724_67211d1da1cce.pdf" target="_blank">📄 Stare Decisis in Rwanda – Research</a></li>
        <li><a href="pdfs/PRACTICAL ASSIGMENT FOR FAMILY LAW CRUCIAL.pdf" target="_blank">📑 Family Law – Practical Assignment</a></li>
        <li><a href="pdfs/T3 PPT Philosophy Presentation.pdf" target="_blank">🧭 Philosophy – T3 Presentation</a></li>
        <li><a href="pdfs/introduction to legal research.pdf" target="_blank">🔍 Legal Research – Intro</a></li>
        <li><a href="pdfs/general principles of criminal law.pdf" target="_blank">⚖️ Criminal Law – Slides 2025</a></li>
    <li><a href="pdfs/Dictionary_of_Legal_Terms (1).zip" target="_blank">📕 Dictionary of Legal Terms (1)</a></li>
    <li><a href="pdfs/kinyarwanda legal terminologies.pdf" target="_blank">📕 Kinyarwanda Legal Terminologies 2</a></li>
      </ul>
    </section>

     <section id="llb2" class="article-md">
      <h2>📚 LLB 2 Study Materials</h2>
      <ul class="pdf-list">
        <li>
          <a href="pdfs/OFJC Syllabus.pdf" target="_blank">
            ⚖️ OFJC Syllabus
          </a>
        </li>
        <li>
          <a href="pdfs/UR Specific Crimes Template 2022.pdf" target="_blank">
            ⚖️ UR Specific Crimes Template 2022
          </a>
        </li>
        <li>
          <a href="pdfs/Tort Law presentation 2022.pptx" target="_blank">
            ⚖️ Tort Law presentation 2022 (PPTX)
          </a>
        </li>
        <li>
          <a href="pdfs/Law of evidence - Syllabus (2019-2020).pdf" target="_blank">
            ⚖️ Law of Evidence - Syllabus (2019-2020)
          </a>
        </li>
        <li>
          <a href="pdfs/Psychology and Law 2023.pdf" target="_blank">
            ⚖️ Psychology and Law 2023
          </a>
        </li>
        <li>
          <a href="pdfs/Tort Law presentation 2022.pdf" target="_blank">
            ⚖️ Tort Law presentation 2022 (PDF)
          </a>
        </li>
        <li>
          <a href="pdfs/sociology of law- LLB II 2024 UPDATED.pdf" target="_blank">
            ⚖️ Sociology of Law - LLB II 2024 UPDATED
          </a>
        </li>
        <li>
          <a href="pdfs/SLIDES OF CRIMINOLOGY.pdf" target="_blank">
            ⚖️ Slides of Criminology
          </a>
        </li>
      </ul>
    </section>

  <section id="category-room">
  <h2>📁 Browse by Category</h2>
  <div id="category-list" class="category-chips"></div>
  </section>


    <!-- Contact Bar (edge-to-edge) -->
    <section id="contact">
      <h2>Get in touch</h2>
      <ul class="contact-list">
        <li>
          <a href="mailto:mugishaenock777@gmail.com">
            <img src="assets/email.png" alt="Email" class="contact-icon" />
            Email
          </a>
        </li>
        <li>
          <a href="https://wa.me/250791851177" target="_blank">
            <img src="assets/whatsapp.png" alt="WhatsApp" class="contact-icon" />
            WhatsApp
          </a>
        </li>
        <li>
          <a href="https://www.linkedin.com/in/mugisha-enock-916270300/" target="_blank">
            <img src="assets/linkedin.png" alt="LinkedIn" class="contact-icon" />
            LinkedIn
          </a>
        </li>
      </ul>
    </section>
  <!-- ... -->
</main>

<footer>
  <p>© Copyright | M.Enock's LexHub 2025 | All rights reserved.</p>
</footer>

<!-- Back to Top -->
<button id="topBtn" title="Back to top">↑</button>

<!-- Robust Category Generation -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  const catContainer = document.getElementById('category-list');
  const searchInput = document.getElementById('site-search');

  if (!catContainer) return;

  const cleanCategory = (text) => {
    const head = text.trim().split(/[-–—:|]/)[0].trim();
    return head.replace(/\s+/g, ' ').replace(/\b\w/g, c => c.toUpperCase());
  };

  const seen = new Map();

  // Scan for headings and PDF links
  document.querySelectorAll(
    '.article-box h2, .article-box h3, .article-md h2, .pdf-list li a'
  ).forEach(node => {
    const raw = node.textContent || '';
    const name = cleanCategory(raw);
    const key = name.toLowerCase();
    if (name.length > 2 && !seen.has(key)) {
      seen.set(key, name);
    }
  });

  const chips = [...seen.values()].sort((a, b) => a.localeCompare(b));
  catContainer.innerHTML = chips
    .map(name => `<div class="chip" data-filter="${name.toLowerCase()}">${name}</div>`)
    .join('');

  // Guarantee clickability in Chrome
  catContainer.querySelectorAll('.chip').forEach(chip => {
    chip.style.position = 'relative';
    chip.style.zIndex = '10';
    chip.style.pointerEvents = 'auto';
  });

  // Click handler
  catContainer.addEventListener('click', e => {
    const chip = e.target.closest('.chip');
    if (!chip) return;
    const term = chip.dataset.filter || '';
    if (searchInput) searchInput.value = term;
    if (typeof runSearch === 'function') runSearch(term, true);
  });
});
</script>

<!-- Sidebar Logic -->
<script>
const sidebar = document.getElementById("sidebar");
const toggleBtn = document.getElementById("sidebarToggle");
const closeBtn = document.getElementById("closeSidebar");
toggleBtn.addEventListener("click", e => { sidebar.classList.add("active"); e.stopPropagation(); });
closeBtn.addEventListener("click", e => { sidebar.classList.remove("active"); e.stopPropagation(); });
document.addEventListener("click", e => {
  if (sidebar.classList.contains("active") && !sidebar.contains(e.target) && e.target !== toggleBtn) {
    sidebar.classList.remove("active");
  }
});
sidebar.addEventListener("click", e => e.stopPropagation());
</script>

<!-- Search Logic -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  const searchInput = document.getElementById('site-search');
  const searchForm = document.getElementById('site-search-form');
  const noResults = document.getElementById('no-results');

  const articleItems = document.querySelectorAll('.article-box, .article-md');
  const pdfItems = document.querySelectorAll('.pdf-list li');

  function runSearch(query, scrollToFirst = false) {
    const term = query.toLowerCase();
    let anyVisible = false;
    let firstVisible = null;

    function filterList(list) {
      list.forEach(item => {
        if (item.textContent.toLowerCase().includes(term)) {
          item.style.display = '';
          if (!firstVisible) firstVisible = item;
          anyVisible = true;
        } else {
          item.style.display = 'none';
        }
      });
    }

    filterList(articleItems);
    filterList(pdfItems);

    if (noResults) noResults.style.display = anyVisible ? 'none' : '';

    if (scrollToFirst && firstVisible) {
      setTimeout(() => {
        firstVisible.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }, 100);
    }
  }

  // Make runSearch available globally for category clicks
  window.runSearch = runSearch;

  if (searchForm) {
    searchForm.addEventListener('submit', e => {
      e.preventDefault();
      runSearch(searchInput?.value || '', true);
    });
  }
  if (searchInput) {
    searchInput.addEventListener('input', () => {
      runSearch(searchInput.value, false);
    });
  }
});
</script>

<!-- Sidebar auto-close + scroll offset styles -->
<style>
  :root { --header-offset: 72px; }
  html { scroll-behavior: smooth; }
  [id], .article-box h2, .article-md h2 { scroll-margin-top: var(--header-offset); }
  .overlay, .backdrop, [data-overlay] { pointer-events: none; opacity: 0; transition: opacity .2s ease; }
  .overlay.show, .backdrop.show, [data-overlay].show { pointer-events: auto; opacity: 1; }
  .sidebar, .side-nav, #sidebar { will-change: transform; }
  .sidebar.open, .side-nav.open, #sidebar.open { transform: translateX(0); }
</style>

<!-- Auto-close sidebar on mobile -->
<script>
(function () {
  const isMobile = () => window.matchMedia('(max-width: 900px)').matches;
  const sidebar = document.querySelector('#sidebar');
  const body = document.body;

  function closeSidebar() {
    sidebar.classList.remove('active', 'open', 'show');
    body.classList.remove('no-scroll', 'menu-open', 'sidebar-open');
  }

  const closeOnClickSelectors = [
    '#category-list .chip',
    '.article-box a',
    '.article-md a',
    '.pdf-list a',
    'a[href^="#"]'
  ].join(',');

  document.addEventListener('click', (e) => {
    const hit = e.target.closest(closeOnClickSelectors);
    if (!hit || !isMobile()) return;
    setTimeout(() => {
      closeSidebar();
      if (hit.tagName === 'A' && hit.hash) {
        const id = decodeURIComponent(hit.hash.slice(1));
        document.getElementById(id)?.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    }, 60);
  }, true);
})();
</script>

<!-- Unified dark mode + back-to-top -->
<script src="theme.js?v=3"></script>

</body>
</html>

